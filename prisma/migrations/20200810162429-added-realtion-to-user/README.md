# Migration `20200810162429-added-realtion-to-user`

This migration has been generated by Aryansh Mahato at 8/10/2020, 9:54:30 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."User" (
"id" SERIAL,
"name" text  NOT NULL ,
PRIMARY KEY ("id"))

ALTER TABLE "public"."Todo" DROP COLUMN "creator",
ADD COLUMN "creatorId" integer   ;

ALTER TABLE "public"."Todo" ADD FOREIGN KEY ("creatorId")REFERENCES "public"."User"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200810154608-added-creator-in-todos..20200810162429-added-realtion-to-user
--- datamodel.dml
+++ datamodel.dml
@@ -3,13 +3,19 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 model Todo {
-  id    Int     @default(autoincrement()) @id
-  title String
-  done  Boolean @default(false)
-  creator String @default("annonymus")
+  id            Int         @default(autoincrement()) @id
+  title         String
+  done          Boolean     @default(false)
+  creator       User?       @relation(fields: [creatorId], references: [id])
+  creatorId     Int?
 }
+
+model User {
+  id            Int         @default(autoincrement()) @id
+  name          String
+}
```


